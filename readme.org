#+TITLE: possiblycat

A helper tool to optionally get the stdin if present.

* Installation
#+BEGIN_SRC
go get -u -v github.com/NightMachinary/possiblycat
#+END_SRC
* Usage
** No input on stdin
#+begin_src bsh.dash :results verbatim :exports both
possiblycat ; echo exited $?
#+end_src

#+RESULTS:
: exited 1

#+begin_src bsh.dash :results verbatim :exports both
time possiblycat
#+end_src

#+RESULTS:
: possiblycat  0.00s user 0.00s system 16% cpu 0.024 total; max RSS 1852

You can also give it the timeout time in milliseconds:

#+begin_src bsh.dash :results verbatim :exports both
time possiblycat 500
#+end_src

#+RESULTS:
: possiblycat 500  0.00s user 0.00s system 1% cpu 0.512 total; max RSS 1856

#+begin_src bsh.dash :results verbatim :exports both
true | time possiblycat 300 ; echo exited $?
#+end_src

#+RESULTS:
: exited 1
: possiblycat 300  0.00s user 0.00s system 1% cpu 0.311 total; max RSS 1848

** Input present
#+begin_src bsh.dash :results verbatim :exports both
{ xxd -l 100 -p /dev/urandom ; ec --- ; ec ok } | possiblycat ; echo exited $?
#+end_src

#+RESULTS:
: a5368f8cb73031bcb518371c55c998a0f308ae32d2b7606ed883696989a5
: 77632c8a40f0264c33cb137f6149df7c03aeb4c3271539525960c4ebc3b4
: 85dcd33879ca35e4744276cd01fbf55f4efb59e19791c9032f421a10e1f2
: 76f9cc8632a8cd4771df
: ---
: ok
: exited 0

#+begin_src bsh.dash :results verbatim :exports both :wrap example
echo | time possiblycat 1000 ; echo exited $?
#+end_src

#+RESULTS:
#+begin_example

exited 0
possiblycat 1000  0.00s user 0.00s system 67% cpu 0.007 total; max RSS 1864
#+end_example
